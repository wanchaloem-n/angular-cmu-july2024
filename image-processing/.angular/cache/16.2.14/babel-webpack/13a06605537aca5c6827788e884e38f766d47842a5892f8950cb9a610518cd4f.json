{"ast":null,"code":"import { Validators } from '@angular/forms';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/forms\";\nimport * as i2 from \"src/app/services/python-api.service\";\nexport class MainCompComponent {\n  constructor(formBuilder, PythonApiService) {\n    this.formBuilder = formBuilder;\n    this.PythonApiService = PythonApiService;\n    this.previewImage = 'assets/images/pexels-photo-2121640.jpeg';\n    this.outputImage = \"assets/images/pexels-photo-2121640.jpeg\";\n    this.file = null;\n    this.percent = 0;\n  }\n  ngOnInit() {\n    this.myForm = this.formBuilder.group({\n      file: [null, Validators.required],\n      param: ['', Validators.required],\n      image: ['', Validators.required]\n    });\n  }\n  onFileSelected(event) {\n    const file = event.target.files[0];\n    if (file) {\n      const reader = new FileReader();\n      reader.onload = e => {\n        // Set the base64 representation of the selected file to previewImage\n        this.previewImage = e.target.result;\n        // Set the form control value\n        this.myForm.get('image')?.setValue(this.previewImage);\n      };\n      // Read the selected file as a data URL (base64)\n      reader.readAsDataURL(file);\n    }\n  }\n  submitdata() {\n    console.log(this.myForm.value);\n    this.PythonApiService.sendData(this.myForm.value).subscribe(response => {\n      console.log('API Response:', response);\n      this.outputImage = response.image;\n    }, error => {\n      // Handle errors here\n      console.error('Error sending data to API:', error);\n    });\n  }\n  static #_ = this.ɵfac = function MainCompComponent_Factory(t) {\n    return new (t || MainCompComponent)(i0.ɵɵdirectiveInject(i1.FormBuilder), i0.ɵɵdirectiveInject(i2.PythonApiService));\n  };\n  static #_2 = this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: MainCompComponent,\n    selectors: [[\"app-main-comp\"]],\n    decls: 17,\n    vars: 1,\n    consts: [[\"id\", \"i3m94u\", 1, \"gjs-grid-row\"], [\"id\", \"ixvd08\", 1, \"gjs-grid-column\"], [\"type\", \"file\", \"id\", \"ioct6i\"], [\"type\", \"text\", \"id\", \"i1s786\"], [\"type\", \"button\", \"id\", \"icz2xk\"], [\"id\", \"feature-section\", 1, \"gjs-grid-row\"], [\"id\", \"imymf\", 1, \"gjs-grid-column\"], [\"id\", \"ib541\", 1, \"gjs-grid-row\"], [\"id\", \"iz8m8\", 1, \"gjs-grid-column\"], [\"id\", \"ism014\", 1, \"gjs-heading\"], [\"id\", \"i8l433\", 3, \"src\"], [\"id\", \"iepks\", 1, \"gjs-grid-column\"], [\"id\", \"ie27wc\", 1, \"gjs-heading\"], [\"src\", \"https://images.pexels.com/photos/2121640/pexels-photo-2121640.jpeg?auto=compress&cs=tinysrgb&w=500&dpr=2\", \"id\", \"i466d\"]],\n    template: function MainCompComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1);\n        i0.ɵɵelement(2, \"input\", 2)(3, \"input\", 3);\n        i0.ɵɵelementStart(4, \"button\", 4);\n        i0.ɵɵtext(5, \"Send\");\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵelementStart(6, \"div\", 5)(7, \"div\", 6)(8, \"div\", 7)(9, \"div\", 8)(10, \"h2\", 9);\n        i0.ɵɵtext(11, \"Feature Text\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(12, \"img\", 10);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(13, \"div\", 11)(14, \"h2\", 12);\n        i0.ɵɵtext(15, \"Feature Text\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(16, \"img\", 13);\n        i0.ɵɵelementEnd()()()();\n      }\n      if (rf & 2) {\n        i0.ɵɵadvance(12);\n        i0.ɵɵproperty(\"src\", ctx.previewImage, i0.ɵɵsanitizeUrl);\n      }\n    },\n    styles: [\"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n  });\n}","map":{"version":3,"names":["Validators","MainCompComponent","constructor","formBuilder","PythonApiService","previewImage","outputImage","file","percent","ngOnInit","myForm","group","required","param","image","onFileSelected","event","target","files","reader","FileReader","onload","e","result","get","setValue","readAsDataURL","submitdata","console","log","value","sendData","subscribe","response","error","_","i0","ɵɵdirectiveInject","i1","FormBuilder","i2","_2","selectors","decls","vars","consts","template","MainCompComponent_Template","rf","ctx","ɵɵelementStart","ɵɵelement","ɵɵtext","ɵɵelementEnd","ɵɵadvance","ɵɵproperty","ɵɵsanitizeUrl"],"sources":["/Users/wanchaloemnadda/Downloads/untitled folder/image-processing/src/app/components/main-comp/main-comp.component.ts","/Users/wanchaloemnadda/Downloads/untitled folder/image-processing/src/app/components/main-comp/main-comp.component.html"],"sourcesContent":["import { Component } from '@angular/core';\nimport { FormBuilder, FormGroup, Validators  } from '@angular/forms';\nimport { PythonApiService } from 'src/app/services/python-api.service';\n\n\n@Component({\n  selector: 'app-main-comp',\n  templateUrl: './main-comp.component.html',\n  styleUrls: ['./main-comp.component.css']\n})\nexport class MainCompComponent {\n  previewImage: any = 'assets/images/pexels-photo-2121640.jpeg';\n  outputImage: any = \"assets/images/pexels-photo-2121640.jpeg\";\n  myForm!: FormGroup;\n  file: File | null = null;\n  percent:any = 0\n\n\n  constructor(private formBuilder: FormBuilder,\n    private PythonApiService: PythonApiService,\n    ) {}\n\n\n  ngOnInit(): void {\n    this.myForm = this.formBuilder.group({\n      file: [null, Validators.required],\n      param: ['', Validators.required],\n      image:['', Validators.required]\n    });\n  }\n\n  onFileSelected(event: any): void {\n    const file: File = event.target.files[0];\n\n    if (file) {\n      const reader = new FileReader();\n\n      reader.onload = (e: any) => {\n        // Set the base64 representation of the selected file to previewImage\n        this.previewImage = e.target.result;\n\n        // Set the form control value\n        this.myForm.get('image')?.setValue(this.previewImage);\n      };\n\n      // Read the selected file as a data URL (base64)\n      reader.readAsDataURL(file);\n    }\n  }\n\n  submitdata(){\n    console.log(this.myForm.value)\n    this.PythonApiService.sendData(this.myForm.value).subscribe(\n      response => {\n        console.log('API Response:', response);\n        this.outputImage = response.image\n      },\n      error => {\n        // Handle errors here\n        console.error('Error sending data to API:', error);\n      }\n    );\n}\n}\n","\n\n\n\n<div class=\"gjs-grid-row\" id=\"i3m94u\">\n  <div class=\"gjs-grid-column\" id=\"ixvd08\">\n    <input type=\"file\" id=\"ioct6i\" /><input\n      type=\"text\"\n      id=\"i1s786\"\n    /><button type=\"button\" id=\"icz2xk\">Send</button>\n  </div>\n</div>\n\n\n<div id=\"feature-section\" class=\"gjs-grid-row\">\n  <div id=\"imymf\" class=\"gjs-grid-column\">\n    <div id=\"ib541\" class=\"gjs-grid-row\">\n      <div id=\"iz8m8\" class=\"gjs-grid-column\">\n        <h2 id=\"ism014\" class=\"gjs-heading\">Feature Text</h2>\n        <img\n          [src]=\"previewImage\"\n          id=\"i8l433\"\n        />\n      </div>\n      <div id=\"iepks\" class=\"gjs-grid-column\">\n        <h2 id=\"ie27wc\" class=\"gjs-heading\">Feature Text</h2>\n        <img\n          src=\"https://images.pexels.com/photos/2121640/pexels-photo-2121640.jpeg?auto=compress&cs=tinysrgb&w=500&dpr=2\"\n          id=\"i466d\"\n        />\n      </div>\n    </div>\n  </div>\n</div>\n\n\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}