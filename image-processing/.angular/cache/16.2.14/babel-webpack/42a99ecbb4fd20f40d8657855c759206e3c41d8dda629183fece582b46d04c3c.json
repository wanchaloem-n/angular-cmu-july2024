{"ast":null,"code":"import { Validators } from '@angular/forms';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/forms\";\nimport * as i2 from \"src/app/services/python-api.service\";\nexport class MainCompComponent {\n  constructor(formBuilder, PythonApiService) {\n    this.formBuilder = formBuilder;\n    this.PythonApiService = PythonApiService;\n    // previewImage: any = 'assets/images/pexels-photo-2121640.jpeg';\n    // outputImage: any = \"assets/images/pexels-photo-2121640.jpeg\";\n    this.previewImage = 'https://images.pexels.com/photos/2121640/pexels-photo-2121640.jpeg?auto=compress&cs=tinysrgb&w=500&dpr=2';\n    this.outputImage = \"https://images.pexels.com/photos/2121640/pexels-photo-2121640.jpeg?auto=compress&cs=tinysrgb&w=500&dpr=2\";\n    this.file = null;\n  }\n  ngOnInit() {\n    this.myForm = this.formBuilder.group({\n      file: [null, Validators.required],\n      param: ['', Validators.required],\n      image: ['', Validators.required]\n    });\n  }\n  onFileSelected(event) {\n    const file = event.target.files[0];\n    if (file) {\n      const reader = new FileReader();\n      reader.onload = e => {\n        // Set the base64 representation of the selected file to previewImage\n        this.previewImage = e.target.result;\n        // Set the form control value\n        this.myForm.get('image')?.setValue(this.previewImage);\n      };\n      // Read the selected file as a data URL (base64)\n      reader.readAsDataURL(file);\n    }\n  }\n  submitdata() {\n    console.log(this.myForm.value);\n    this.PythonApiService.sendData(this.myForm.value).subscribe(response => {\n      console.log('API Response:', response);\n      this.outputImage = response.image;\n    }, error => {\n      // Handle errors here\n      console.error('Error sending data to API:', error);\n    });\n  }\n  static #_ = this.ɵfac = function MainCompComponent_Factory(t) {\n    return new (t || MainCompComponent)(i0.ɵɵdirectiveInject(i1.FormBuilder), i0.ɵɵdirectiveInject(i2.PythonApiService));\n  };\n  static #_2 = this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: MainCompComponent,\n    selectors: [[\"app-main-comp\"]],\n    decls: 0,\n    vars: 0,\n    template: function MainCompComponent_Template(rf, ctx) {},\n    styles: [\"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n  });\n}","map":{"version":3,"names":["Validators","MainCompComponent","constructor","formBuilder","PythonApiService","previewImage","outputImage","file","ngOnInit","myForm","group","required","param","image","onFileSelected","event","target","files","reader","FileReader","onload","e","result","get","setValue","readAsDataURL","submitdata","console","log","value","sendData","subscribe","response","error","_","i0","ɵɵdirectiveInject","i1","FormBuilder","i2","_2","selectors","decls","vars","template","MainCompComponent_Template","rf","ctx","styles"],"sources":["/Users/wanchaloemnadda/Downloads/untitled folder/image-processing/src/app/components/main-comp/main-comp.component.ts"],"sourcesContent":["import { Component } from '@angular/core';\nimport { FormBuilder, FormGroup, Validators  } from '@angular/forms';\nimport { PythonApiService } from 'src/app/services/python-api.service';\n\n\n@Component({\n  selector: 'app-main-comp',\n  templateUrl: './main-comp.component.html',\n  styleUrls: ['./main-comp.component.css']\n})\nexport class MainCompComponent {\n  // previewImage: any = 'assets/images/pexels-photo-2121640.jpeg';\n  // outputImage: any = \"assets/images/pexels-photo-2121640.jpeg\";\n    previewImage: any = 'https://images.pexels.com/photos/2121640/pexels-photo-2121640.jpeg?auto=compress&cs=tinysrgb&w=500&dpr=2';\n  outputImage: any = \"https://images.pexels.com/photos/2121640/pexels-photo-2121640.jpeg?auto=compress&cs=tinysrgb&w=500&dpr=2\";\n\n  myForm!: FormGroup;\n  file: File | null = null;\n\n\n  constructor(private formBuilder: FormBuilder,\n    private PythonApiService: PythonApiService,\n    ) {}\n\n\n  ngOnInit(): void {\n    this.myForm = this.formBuilder.group({\n      file: [null, Validators.required],\n      param: ['', Validators.required],\n      image:['', Validators.required]\n    });\n  }\n\n  onFileSelected(event: any): void {\n    const file: File = event.target.files[0];\n\n    if (file) {\n      const reader = new FileReader();\n\n      reader.onload = (e: any) => {\n        // Set the base64 representation of the selected file to previewImage\n        this.previewImage = e.target.result;\n\n        // Set the form control value\n        this.myForm.get('image')?.setValue(this.previewImage);\n      };\n\n      // Read the selected file as a data URL (base64)\n      reader.readAsDataURL(file);\n    }\n  }\n\n  submitdata(){\n    console.log(this.myForm.value)\n    this.PythonApiService.sendData(this.myForm.value).subscribe(\n      response => {\n        console.log('API Response:', response);\n        this.outputImage = response.image\n      },\n      error => {\n        // Handle errors here\n        console.error('Error sending data to API:', error);\n      }\n    );\n}\n}\n"],"mappings":"AACA,SAAiCA,UAAU,QAAS,gBAAgB;;;;AASpE,OAAM,MAAOC,iBAAiB;EAU5BC,YAAoBC,WAAwB,EAClCC,gBAAkC;IADxB,KAAAD,WAAW,GAAXA,WAAW;IACrB,KAAAC,gBAAgB,GAAhBA,gBAAgB;IAV1B;IACA;IACE,KAAAC,YAAY,GAAQ,0GAA0G;IAChI,KAAAC,WAAW,GAAQ,0GAA0G;IAG7H,KAAAC,IAAI,GAAgB,IAAI;EAKnB;EAGLC,QAAQA,CAAA;IACN,IAAI,CAACC,MAAM,GAAG,IAAI,CAACN,WAAW,CAACO,KAAK,CAAC;MACnCH,IAAI,EAAE,CAAC,IAAI,EAAEP,UAAU,CAACW,QAAQ,CAAC;MACjCC,KAAK,EAAE,CAAC,EAAE,EAAEZ,UAAU,CAACW,QAAQ,CAAC;MAChCE,KAAK,EAAC,CAAC,EAAE,EAAEb,UAAU,CAACW,QAAQ;KAC/B,CAAC;EACJ;EAEAG,cAAcA,CAACC,KAAU;IACvB,MAAMR,IAAI,GAASQ,KAAK,CAACC,MAAM,CAACC,KAAK,CAAC,CAAC,CAAC;IAExC,IAAIV,IAAI,EAAE;MACR,MAAMW,MAAM,GAAG,IAAIC,UAAU,EAAE;MAE/BD,MAAM,CAACE,MAAM,GAAIC,CAAM,IAAI;QACzB;QACA,IAAI,CAAChB,YAAY,GAAGgB,CAAC,CAACL,MAAM,CAACM,MAAM;QAEnC;QACA,IAAI,CAACb,MAAM,CAACc,GAAG,CAAC,OAAO,CAAC,EAAEC,QAAQ,CAAC,IAAI,CAACnB,YAAY,CAAC;MACvD,CAAC;MAED;MACAa,MAAM,CAACO,aAAa,CAAClB,IAAI,CAAC;;EAE9B;EAEAmB,UAAUA,CAAA;IACRC,OAAO,CAACC,GAAG,CAAC,IAAI,CAACnB,MAAM,CAACoB,KAAK,CAAC;IAC9B,IAAI,CAACzB,gBAAgB,CAAC0B,QAAQ,CAAC,IAAI,CAACrB,MAAM,CAACoB,KAAK,CAAC,CAACE,SAAS,CACzDC,QAAQ,IAAG;MACTL,OAAO,CAACC,GAAG,CAAC,eAAe,EAAEI,QAAQ,CAAC;MACtC,IAAI,CAAC1B,WAAW,GAAG0B,QAAQ,CAACnB,KAAK;IACnC,CAAC,EACDoB,KAAK,IAAG;MACN;MACAN,OAAO,CAACM,KAAK,CAAC,4BAA4B,EAAEA,KAAK,CAAC;IACpD,CAAC,CACF;EACL;EAAC,QAAAC,CAAA,G;qBAtDYjC,iBAAiB,EAAAkC,EAAA,CAAAC,iBAAA,CAAAC,EAAA,CAAAC,WAAA,GAAAH,EAAA,CAAAC,iBAAA,CAAAG,EAAA,CAAAnC,gBAAA;EAAA;EAAA,QAAAoC,EAAA,G;UAAjBvC,iBAAiB;IAAAwC,SAAA;IAAAC,KAAA;IAAAC,IAAA;IAAAC,QAAA,WAAAC,2BAAAC,EAAA,EAAAC,GAAA;IAAAC,MAAA;EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}