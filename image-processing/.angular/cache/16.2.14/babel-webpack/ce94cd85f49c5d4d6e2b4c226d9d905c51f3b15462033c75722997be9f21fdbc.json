{"ast":null,"code":"import { Validators } from '@angular/forms';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/forms\";\nimport * as i2 from \"src/app/services/python-api.service\";\nexport class MainCompComponent {\n  constructor(formBuilder, PythonApiService) {\n    this.formBuilder = formBuilder;\n    this.PythonApiService = PythonApiService;\n    // previewImage: any = 'assets/images/pexels-photo-2121640.jpeg';\n    // outputImage: any = \"assets/images/pexels-photo-2121640.jpeg\";\n    this.previewImage = 'https://images.pexels.com/photos/2121640/pexels-photo-2121640.jpeg?auto=compress&cs=tinysrgb&w=500&dpr=2';\n    this.outputImage = \"https://images.pexels.com/photos/2121640/pexels-photo-2121640.jpeg?auto=compress&cs=tinysrgb&w=500&dpr=2\";\n    this.file = null;\n  }\n  ngOnInit() {\n    this.myForm = this.formBuilder.group({\n      file: [null, Validators.required],\n      param: ['', Validators.required],\n      image: ['', Validators.required]\n    });\n  }\n  onFileSelected(event) {\n    const file = event.target.files[0];\n    if (file) {\n      const reader = new FileReader();\n      reader.onload = e => {\n        // Set the base64 representation of the selected file to previewImage\n        this.previewImage = e.target.result;\n        // Set the form control value\n        this.myForm.get('image')?.setValue(this.previewImage);\n      };\n      // Read the selected file as a data URL (base64)\n      reader.readAsDataURL(file);\n    }\n  }\n  submitdata() {\n    console.log(this.myForm.value);\n    this.PythonApiService.sendData(this.myForm.value).subscribe(response => {\n      console.log('API Response:', response);\n      this.outputImage = response.image;\n    }, error => {\n      // Handle errors here\n      console.error('Error sending data to API:', error);\n    });\n  }\n  static #_ = this.ɵfac = function MainCompComponent_Factory(t) {\n    return new (t || MainCompComponent)(i0.ɵɵdirectiveInject(i1.FormBuilder), i0.ɵɵdirectiveInject(i2.PythonApiService));\n  };\n  static #_2 = this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: MainCompComponent,\n    selectors: [[\"app-main-comp\"]],\n    decls: 18,\n    vars: 3,\n    consts: [[1, \"d-flex\", \"justify-content-center\", 3, \"formGroup\", \"ngSubmit\"], [\"id\", \"i3m94u\", 1, \"gjs-grid-row\"], [\"id\", \"ixvd08\", 1, \"gjs-grid-column\"], [\"type\", \"file\", \"id\", \"ioct6i\"], [\"type\", \"text\", \"id\", \"i1s786\", 3, \"change\"], [\"type\", \"button\", \"id\", \"icz2xk\"], [\"id\", \"feature-section\", 1, \"gjs-grid-row\"], [\"id\", \"imymf\", 1, \"gjs-grid-column\"], [\"id\", \"ib541\", 1, \"gjs-grid-row\"], [\"id\", \"iz8m8\", 1, \"gjs-grid-column\"], [\"id\", \"ism014\", 1, \"gjs-heading\"], [\"id\", \"i8l433\", 3, \"src\"], [\"id\", \"iepks\", 1, \"gjs-grid-column\"], [\"id\", \"ie27wc\", 1, \"gjs-heading\"], [\"id\", \"i466d\", 3, \"src\"]],\n    template: function MainCompComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"form\", 0);\n        i0.ɵɵlistener(\"ngSubmit\", function MainCompComponent_Template_form_ngSubmit_0_listener() {\n          return ctx.submitdata();\n        });\n        i0.ɵɵelementStart(1, \"div\", 1)(2, \"div\", 2);\n        i0.ɵɵelement(3, \"input\", 3);\n        i0.ɵɵelementStart(4, \"input\", 4);\n        i0.ɵɵlistener(\"change\", function MainCompComponent_Template_input_change_4_listener($event) {\n          return ctx.onFileSelected($event);\n        });\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(5, \"button\", 5);\n        i0.ɵɵtext(6, \"Send\");\n        i0.ɵɵelementEnd()()()();\n        i0.ɵɵelementStart(7, \"div\", 6)(8, \"div\", 7)(9, \"div\", 8)(10, \"div\", 9)(11, \"h2\", 10);\n        i0.ɵɵtext(12, \"Feature Text\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(13, \"img\", 11);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(14, \"div\", 12)(15, \"h2\", 13);\n        i0.ɵɵtext(16, \"Feature Text\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(17, \"img\", 14);\n        i0.ɵɵelementEnd()()()();\n      }\n      if (rf & 2) {\n        i0.ɵɵproperty(\"formGroup\", ctx.myForm);\n        i0.ɵɵadvance(13);\n        i0.ɵɵproperty(\"src\", ctx.previewImage, i0.ɵɵsanitizeUrl);\n        i0.ɵɵadvance(4);\n        i0.ɵɵproperty(\"src\", ctx.outputImage, i0.ɵɵsanitizeUrl);\n      }\n    },\n    dependencies: [i1.ɵNgNoValidate, i1.NgControlStatusGroup, i1.FormGroupDirective],\n    styles: [\"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n  });\n}","map":{"version":3,"names":["Validators","MainCompComponent","constructor","formBuilder","PythonApiService","previewImage","outputImage","file","ngOnInit","myForm","group","required","param","image","onFileSelected","event","target","files","reader","FileReader","onload","e","result","get","setValue","readAsDataURL","submitdata","console","log","value","sendData","subscribe","response","error","_","i0","ɵɵdirectiveInject","i1","FormBuilder","i2","_2","selectors","decls","vars","consts","template","MainCompComponent_Template","rf","ctx","ɵɵelementStart","ɵɵlistener","MainCompComponent_Template_form_ngSubmit_0_listener","ɵɵelement","MainCompComponent_Template_input_change_4_listener","$event","ɵɵelementEnd","ɵɵtext","ɵɵproperty","ɵɵadvance","ɵɵsanitizeUrl"],"sources":["/Users/wanchaloemnadda/Downloads/untitled folder/image-processing/src/app/components/main-comp/main-comp.component.ts","/Users/wanchaloemnadda/Downloads/untitled folder/image-processing/src/app/components/main-comp/main-comp.component.html"],"sourcesContent":["import { Component } from '@angular/core';\nimport { FormBuilder, FormGroup, Validators  } from '@angular/forms';\nimport { PythonApiService } from 'src/app/services/python-api.service';\n\n\n@Component({\n  selector: 'app-main-comp',\n  templateUrl: './main-comp.component.html',\n  styleUrls: ['./main-comp.component.css']\n})\nexport class MainCompComponent {\n  // previewImage: any = 'assets/images/pexels-photo-2121640.jpeg';\n  // outputImage: any = \"assets/images/pexels-photo-2121640.jpeg\";\n    previewImage: any = 'https://images.pexels.com/photos/2121640/pexels-photo-2121640.jpeg?auto=compress&cs=tinysrgb&w=500&dpr=2';\n  outputImage: any = \"https://images.pexels.com/photos/2121640/pexels-photo-2121640.jpeg?auto=compress&cs=tinysrgb&w=500&dpr=2\";\n\n  myForm!: FormGroup;\n  file: File | null = null;\n\n\n  constructor(private formBuilder: FormBuilder,\n    private PythonApiService: PythonApiService,\n    ) {}\n\n\n  ngOnInit(): void {\n    this.myForm = this.formBuilder.group({\n      file: [null, Validators.required],\n      param: ['', Validators.required],\n      image:['', Validators.required]\n    });\n  }\n\n  onFileSelected(event: any): void {\n    const file: File = event.target.files[0];\n\n    if (file) {\n      const reader = new FileReader();\n\n      reader.onload = (e: any) => {\n        // Set the base64 representation of the selected file to previewImage\n        this.previewImage = e.target.result;\n\n        // Set the form control value\n        this.myForm.get('image')?.setValue(this.previewImage);\n      };\n\n      // Read the selected file as a data URL (base64)\n      reader.readAsDataURL(file);\n    }\n  }\n\n  submitdata(){\n    console.log(this.myForm.value)\n    this.PythonApiService.sendData(this.myForm.value).subscribe(\n      response => {\n        console.log('API Response:', response);\n        this.outputImage = response.image\n      },\n      error => {\n        // Handle errors here\n        console.error('Error sending data to API:', error);\n      }\n    );\n}\n}\n","\n\n\n<form [formGroup]=\"myForm\" class=\"d-flex justify-content-center\" (ngSubmit)=\"submitdata()\">\n<div class=\"gjs-grid-row\" id=\"i3m94u\">\n  <div class=\"gjs-grid-column\" id=\"ixvd08\">\n    <input type=\"file\" id=\"ioct6i\" /><input\n      type=\"text\"\n      id=\"i1s786\"\n      (change)=\"onFileSelected($event)\"\n    /><button type=\"button\" id=\"icz2xk\">Send</button>\n  </div>\n</div>\n</form>\n\n<div id=\"feature-section\" class=\"gjs-grid-row\">\n  <div id=\"imymf\" class=\"gjs-grid-column\">\n    <div id=\"ib541\" class=\"gjs-grid-row\">\n      <div id=\"iz8m8\" class=\"gjs-grid-column\">\n        <h2 id=\"ism014\" class=\"gjs-heading\">Feature Text</h2>\n        <img\n          [src]=\"previewImage\"\n          id=\"i8l433\"\n        />\n      </div>\n      <div id=\"iepks\" class=\"gjs-grid-column\">\n        <h2 id=\"ie27wc\" class=\"gjs-heading\">Feature Text</h2>\n        <img\n          [src]=\"outputImage\"\n          id=\"i466d\"\n        />\n      </div>\n    </div>\n  </div>\n</div>\n\n\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}